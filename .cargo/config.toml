[build]
target = "riscv64gc-unknown-linux-gnu"
rustflags = ["-C", "embed-bitcode=yes"]

[target.riscv64gc-unknown-linux-gnu]
rustflags = [
	# 	# "-C",
	# 	# "link-arg=-Tmemory.x",
	# 	# "-C",
	# 	# "link-arg=-Tlink.x",
	"-C",
	"target-feature=+crt-static",
	"-C",
	"link-arg=-s",
	# "-C",
	# "target-feature=+m",

	# "-L",
	# "/home/semar/Work/rust-cross/buildroot/output/target/lib/",
	"-L",
	"/usr/sysroot",
	"-L",
	"/usr/sysroot/lib",

	# "-L",
	# "link-search=/home/semar/Work/rust-cross/buildroot/output/target/lib/",
	"-L",
	"link-search=/usr/sysroot",
	"-L",
	"link-search=/usr/sysroot/lib",
]
# runner = "/usr/sysroot/lib/ld-linux-riscv64-lp64d.so.1 --library-path /usr/sysroot/lib/"
linker = "riscv64-unknown-linux-gnu-ld"

[target.riscv64gc-unknown-linux-musl]
linker = "/home/semar/Work/rust-cross/buildroot/output_riscv/host/bin/riscv64-buildroot-linux-musl-gcc"
# linker = "/home/semar/Work/rust-cross/buildroot/output/host/bin/riscv64-buildroot-linux-musl-ld"
rustflags = [
	"-L",
	"/home/semar/Work/rust-cross/buildroot/output_riscv/host/lib/gcc/riscv64-buildroot-linux-musl/12.3.0",

	"-L",
	"/home/semar/Work/rust-cross/buildroot/output_riscv/host/riscv64-buildroot-linux-musl/sysroot/lib",

	"-C",
	"link-arg=-s",

	"-C",
	"link-arg=-e_start",

	# "-L",
	# "link-search=/home/semar/Work/rust-cross/buildroot/output/host/lib/gcc/riscv64-buildroot-linux-musl/12.3.0",
	# "-C",
	# "link-arg=-Tmemory.x",
	# "-C",
	# "link-arg=-Tlink.x",
	"-C",
	"target-feature=+crt-static",
	"-C",
	"link-arg=-lgcc",
	"-Ctarget-feature=-c",
	"-Clink-arg=-Ttext=0x00200800",
	# "-C",
	# "target-feature=+m",
	# "-C",
	# "target-feature=+softfloat",
]
# runner = "/home/semar/Work/rust-cross/riscv32-linux-musl-cross/riscv64-linux-musl-cross/riscv64-linux-musl/lib/ld-musl-riscv64.so.1 --library-path /home/semar/Work/rust-cross/riscv32-linux-musl-cross/riscv64-linux-musl-cross/riscv64-linux-musl/lib"
# linker = "/home/semar/Work/rust-cross/riscv32-linux-musl-cross/riscv64-linux-musl-cross/bin/riscv64-linux-musl-gcc"
# linker = "/home/semar/Work/rust-cross/buildroot/output_riscv/host/bin/riscv64-buildroot-linux-musl-ld"
# linker = "/home/semar/Work/rust-cross/buildroot/output/host/bin/riscv64-buildroot-linux-musl-gcc"
# [target.riscv32im-unknown-none-elf]
[target.riscv64gc-unknown-none-elf]
# linker = "riscv64-unknown-elf-gcc"
# rustflags = [
# 	"-C",
# 	"passes=loweratomic",
# 	"-Clink-arg=-e_start",
# 	"-Ctarget-feature=-c",
# 	"-Clink-arg=-Ttext=0x00200800",
# 	# "-C",
# 	# "link-arg=--fatal-warnings",
# 	"-C",
# 	"panic=abort",
# 	"-L",
# 	"/usr/sysroot/lib/",
# 	"-C",
# 	"target-feature=+crt-static",
# 	"-C",
# 	"link-arg=-lgcc",
# 	# "-C",
# 	# "link-arg=-s",
# ]
# runner = "/usr/sysroot/lib/ld-linux-riscv64-lp64d.so.1 --library-path /usr/sysroot/lib/"
# rustflags = [
# 	# "-C",
# 	# "target-feature=+crt-static",
# 	"-C",
# 	"link-arg=-s",
# 	# # "-C",
# 	# "-L",
# 	# "/home/semar/Work/rust-cross/buildroot/output/target/lib/",
# 	"-L",
# 	"/home/semar/Work/rust-cross/buildroot/output_riscv/staging",
# 	# "-L",
# 	# "link-search=/home/semar/Work/rust-cross/buildroot/output/target/lib/",
# 	# "-L",
# 	# "link-search=/home/semar/Work/rust-cross/buildroot/output/host/riscv64-buildroot-linux-musl/sysroot",
# 	# "link-search=/home/semar/Work/rust-cross/buildroot/output/target/lib/",
# 	# "-C",
# 	# "link-self-contained=yes",
# ]
# [target.riscv64gc-unknown-none-elf]
# linker = "riscv64-unknown-linux-gnu-gcc"
# rustflags = ["-Clink-arg=-e_start", "-Ctarget-feature=-c"]

[target.riscv32im-succinct-zkvm-elf]
rustflags = [
	# "-C",
	# "link-arg=-Tmemory.x",
	# "-C",
	# "link-arg=-Tlink.x",
	"-C",
	"target-feature=+crt-static",
	"-C",
	"target-feature=+m",
	"-C",
	"link-arg=-s",
]
# runner = "/usr/sysroot/lib/ld-linux-riscv32-lp32.so.1 --library-path /usr/sysroot/lib/"
# linker = "riscv32-unknown-elf-gcc"


[target.mips-unknown-linux-gnu]
# runner = "/usr/sysroot/lib/ld-linux-riscv64-lp64d.so.1 --library-path /usr/sysroot/lib/"
linker = "mips-linux-gnu-ld"
# linker = "mips-linux-gnu-gcc"
# linker = "/home/semar/Work/rust-cross/buildroot_mips/output/host/bin/mips-linux-ld"
# rustflags = ["-C", "target-feature=+crt-static", "-C", "link-arg=-s"]
rustflags = [
	"-C",
	"target-feature=+crt-static",
	"-C",
	"link-arg=-s",
	"-C",
	# "target-feature=+soft-float",
	"target-feature=-soft-float",
	# "-L",
	# "/home/semar/Work/rust-cross/buildroot/output_mips/host",
	# "-L",
	# "/home/semar/Work/rust-cross/buildroot/output_mips/staging",
]
[target.mips-unknown-linux-musl]
linker = "/home/semar/Work/rust-cross/buildroot/output/host/bin/mips-buildroot-linux-musl-ld"
# linker = "/home/semar/Work/rust-cross/buildroot/output/host/bin/riscv64-buildroot-linux-musl-ld"
rustflags = [
	"-L",
	"/home/semar/Work/rust-cross/buildroot/output/host/lib/gcc/mips-buildroot-linux-musl/12.3.0",

	"-L",
	"/home/semar/Work/rust-cross/buildroot/output/host/mips-buildroot-linux-musl/sysroot/lib",

	"-C",
	"link-arg=-s",

	# "-L",
	# "link-search=/home/semar/Work/rust-cross/buildroot/output/host/lib/gcc/riscv64-buildroot-linux-musl/12.3.0",
	# "-C",
	# "link-arg=-Tmemory.x",
	# "-C",
	# "link-arg=-Tlink.x",
	"-C",
	"target-feature=+crt-static",
	"-C",
	"link-arg=-lgcc",
	# "-C",
	# "target-feature=+softfloat",
]

[target.mips-unknown-linux-uclibc]
linker = "/home/semar/Work/rust-cross/buildroot/output/host/bin/mips-buildroot-linux-uclibc-gcc"
rustflags = [
	"-L",
	"/home/semar/Work/rust-cross/buildroot/output/host/lib/gcc/mips-buildroot-linux-uclibc/12.3.0",

	"-L",
	"/home/semar/Work/rust-cross/buildroot/output/host/mips-buildroot-linux-uclibc/sysroot/lib",

	"-C",
	"link-arg=-s",

	"-C",
	"target-feature=+crt-static",
	"-C",
	"link-arg=-lgcc",
	# "-C",
	# "target-feature=+softfloat",
]
# [target.riscv32im-succinct-zkvm-elf]

# [target.mips-unknown-linux-musl]
# # ar = "/home/semar/Work/rust-cross/buildroot/output_mips/host/bin/mips-buildroot-linux-musl-ar"
# # linker = "/home/semar/Work/rust-cross/buildroot/output_mips/host/bin/mips-buildroot-linux-musl-ld"
# # linker = "/home/semar/Work/rust-cross/buildroot/output/host/bin/mips-buildroot-linux-musl-gcc"
# # linker = "/home/semar/Work/rust-cross/buildroot/output_mips/host/bin/mips-buildroot-linux-musl-gcc"
# linker = "/home/semar/Work/rust-cross/buildroot/output/host/bin/mips-buildroot-linux-musl-gcc"
# rustflags = [
# 	"-L",
# 	"buildroot/output/host/lib/gcc/mips-buildroot-linux-musl/12.3.0",
# 	"-C",
# 	"target-feature=+crt-static",
# 	"-C",
# 	"link-arg=-s",
# 	"-C",
# 	"target-feature=-soft-float",
# 	"-C",
# 	"link-arg=-static-libgcc",
# 	"-C",
# 	"embed-bitcode=yes",
# 	"-L",
# 	"link-arg=-static-libgcc",
# 	# "target-feature=+soft-float",
# 	# "-C",
# 	# "link-self-contained=yes",
# 	# "-C",
# 	# "static",
# ]
# # 	"-C",
# # 	"link-arg=-s",
# # 	# "-C",
# # 	# "-C",
# # 	# "link-self-contained=yes",
# # ]
#
# [target.mips-musl]
# # ar = "/home/semar/Work/rust-cross/buildroot/output_mips/host/bin/mips-buildroot-linux-musl-ar"
# # linker = "/home/semar/Work/rust-cross/buildroot/output_mips/host/bin/mips-buildroot-linux-musl-ld"
# # linker = "/home/semar/Work/rust-cross/buildroot/output/host/bin/mips-buildroot-linux-musl-gcc"
# # linker = "/home/semar/Work/rust-cross/buildroot/output_mips/host/bin/mips-buildroot-linux-musl-gcc"
# linker = "/home/semar/Work/rust-cross/buildroot/output/host/bin/mips-buildroot-linux-musl-gcc"
# rustflags = [
# 	"-L",
# 	"buildroot/output/host/lib/gcc/mips-buildroot-linux-musl/12.3.0",
# 	"-C",
# 	"target-feature=+crt-static",
# 	"-C",
# 	"link-arg=-s",
# 	"-C",
# 	"target-feature=-soft-float",
# 	"-C",
# 	"link-arg=-static-libgcc",
# 	"-C",
# 	"embed-bitcode=yes",
# 	"-L",
# 	"link-arg=-static-libgcc",
# 	# "target-feature=+soft-float",
# 	# "-C",
# 	# "link-self-contained=yes",
# 	# "-C",
# 	# "static",
# ]
# # 	"-C",
# # 	"link-arg=-s",
# # 	# "-C",
# # 	# "-C",
# # 	# "link-self-contained=yes",
# # ]
